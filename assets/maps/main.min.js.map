{"version":3,"sources":["productControl.js"],"names":["Product","self","container","footnote","title","_classCallCheck","this","undefined","_self","_container","querySelectorAll","_footnote","_title","init","_createClass","key","value","classList","contains","innerHTML","getAttribute","toggle","addEventListener","_checked","_checkFootnote","onclick","e","target","_mouseenter","_mouseleave","productArr","document","forEach","item","push"],"mappings":"oZAAC,WAAY,IAEHA,EAFG,WAGL,SAAAA,EAAYC,EAAMC,EAAWC,EAAUC,GACnC,GAD0CC,gBAAAC,KAAAN,QAC7BO,IAATN,EACA,OAAO,EAEXK,KAAKE,MAAQP,EACbK,KAAKG,WAAaH,KAAKE,MAAME,iBAAiB,IAAMR,GAAW,GAC/DI,KAAKK,UAAYL,KAAKE,MAAME,iBAAiB,IAAMP,GAAU,GAC7DG,KAAKM,OAASN,KAAKE,MAAME,iBAAiB,IAAMN,GAAO,GACvDE,KAAKO,OAXJ,OAAAC,aAAAd,EAAA,CAAA,CAAAe,IAAA,iBAAAC,MAAA,WAeGV,KAAKE,MAAMS,UAAUC,SAAS,YAC9BZ,KAAKK,UAAUQ,UAAYb,KAAKK,UAAUS,aAAa,iBAElDd,KAAKE,MAAMS,UAAUC,SAAS,YACnCZ,KAAKK,UAAUQ,UAAYb,KAAKK,UAAUS,aAAa,iBAGvDd,KAAKK,UAAUQ,UAAf,uFAtBH,CAAAJ,IAAA,WAAAC,MAAA,WA2BD,GAAIV,KAAKE,MAAMS,UAAUC,SAAS,YAC9B,OAAO,EAGPZ,KAAKE,MAAMS,UAAUI,OAAO,cA/B/B,CAAAN,IAAA,cAAAC,MAAA,WAoCGV,KAAKE,MAAMS,UAAUC,SAAS,cAC9BZ,KAAKM,OAAOO,UAAY,+BArC3B,CAAAJ,IAAA,cAAAC,MAAA,WA0CGV,KAAKE,MAAMS,UAAUC,SAAS,cAC9BZ,KAAKM,OAAOO,UAAY,WA3C3B,CAAAJ,IAAA,OAAAC,MAAA,WAgDD,IAAIf,EAAOK,KAEXL,EAAKQ,WAAWa,iBAAiB,QAAS,WACtCrB,EAAKsB,WACLtB,EAAKuB,mBAGTvB,EAAKO,MAAMiB,QAAU,SAASC,GAC1B,GAAuEnB,MAAnEN,EAAKO,MAAME,iBAAiB,iCAAiC,GAC7D,OAAO,EAGEgB,EAAEC,QACC1B,EAAKO,MAAME,iBAAiB,iCAAiC,KAGzET,EAAKsB,WACLtB,EAAKuB,mBAIbvB,EAAKQ,WAAWa,iBAAiB,aAAc,WAC3CrB,EAAK2B,gBAGT3B,EAAKQ,WAAWa,iBAAiB,aAAc,WAC3CrB,EAAK4B,gBAGT5B,EAAKuB,qBA7EJxB,EAAA,GAiFL8B,EAAa,GACFC,SAASrB,iBAAiB,gBAEhCsB,QAAQ,SAASC,GACR,IAAIjC,EAAQiC,EAAM,yBAA0B,wBAAyB,sBACnFH,EAAWI,KAAKD,KAtFvB","file":"../modules/main.min.js","sourcesContent":[";(function() {\r\n\r\n    class Product {\r\n        constructor(self, container, footnote, title) {\r\n            if (self === undefined) {\r\n                return false;\r\n            }\r\n            this._self = self;\r\n            this._container = this._self.querySelectorAll('.' + container)[0];\r\n            this._footnote = this._self.querySelectorAll('.' + footnote)[0];\r\n            this._title = this._self.querySelectorAll('.' + title)[0];\r\n            this.init();\r\n        }\r\n\r\n        _checkFootnote() {\r\n            if (this._self.classList.contains('selected')) {\r\n                this._footnote.innerHTML = this._footnote.getAttribute('data-selected');\r\n            }\r\n            else if (this._self.classList.contains('disabled')) {\r\n                this._footnote.innerHTML = this._footnote.getAttribute('data-disabled');\r\n            }\r\n            else {\r\n                this._footnote.innerHTML = `Чего сидишь? Порадуй котэ, <span class=\"product-box__footnote-button\">купи.</span>`;\r\n            }\r\n        }\r\n\r\n        _checked() {\r\n            if (this._self.classList.contains('disabled')) {\r\n                return false;\r\n            }\r\n            else {\r\n                this._self.classList.toggle('selected');\r\n            }\r\n        }\r\n\r\n        _mouseenter() {\r\n            if (this._self.classList.contains('selected')) {\r\n                this._title.innerHTML = 'Сказочное заморское яство';\r\n            }\r\n        }\r\n\r\n        _mouseleave() {\r\n            if (this._self.classList.contains('selected')) {\r\n                this._title.innerHTML = 'Title';\r\n            }\r\n        }\r\n\r\n        init() {\r\n            let self = this;\r\n\r\n            self._container.addEventListener('click', function() {\r\n                self._checked();\r\n                self._checkFootnote();\r\n            });\r\n\r\n            self._self.onclick = function(e) {\r\n                if (self._self.querySelectorAll('.product-box__footnote-button')[0] == undefined) {\r\n                    return false;\r\n                }\r\n\r\n                let target = e.target;\r\n                let buyButton = self._self.querySelectorAll('.product-box__footnote-button')[0];\r\n\r\n                if (target == buyButton) {\r\n                    self._checked();\r\n                    self._checkFootnote();\r\n                }\r\n            }\r\n\r\n            self._container.addEventListener('mouseenter', function() {\r\n                self._mouseenter();\r\n            });\r\n\r\n            self._container.addEventListener('mouseleave', function() {\r\n                self._mouseleave();\r\n            });\r\n\r\n            self._checkFootnote();\r\n        }\r\n    }\r\n\r\n    let productArr = [];\r\n    let products = document.querySelectorAll('.product-box');\r\n\r\n    products.forEach(function(item) {\r\n        let product = new Product(item, 'product-box__container', 'product-box__footnote', 'product-box__title');\r\n        productArr.push(item);\r\n    });\r\n\r\n})();\r\n"]}